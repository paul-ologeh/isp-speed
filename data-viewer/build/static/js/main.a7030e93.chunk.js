(this["webpackJsonpdata-viewer"]=this["webpackJsonpdata-viewer"]||[]).push([[0],{177:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(1),r=a.n(c),s=a(50),l=a.n(s),i=(a(177),a(178),a(87)),o=a.n(i),d=a(134),u=a(157),j=a(93),h=a(94),b=a(120),p=a(115),O=a(158),x=a(219),v=a(226),f=a(156),k=a(222),m=a(223),T=a(227),C=a(221),w=a(228),g=a(152),y=a.n(g),D=a(55),I=(a(204),a(220)),E=a(225),S={ticks:{color:"#333"},title:{color:"#333"}},V=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(j.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={view:"Download",tickCount:1/0},e.toggleView=function(t,a){"Download"===e.state.view?e.setState({view:"Upload",data:e.props.upload}):e.setState({view:"Download",data:e.props.download})},e.setTickCount=function(t,a){e.setState({tickCount:a.value})},e.OptionPanel=function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(m.a,{onClick:e.toggleView,color:e.props.parentColor,children:["Show ","Download"===e.state.view?"Upload":"Download"]}),Object(n.jsx)(I.a,{text:"Data Filter",icon:"filter",floating:!0,labeled:!0,button:!0,className:"icon",children:Object(n.jsxs)(I.a.Menu,{children:[Object(n.jsx)(I.a.Header,{icon:"tags",content:"Filter By Days"}),Object(n.jsx)(I.a.Divider,{}),Object(n.jsx)(I.a.Item,{label:{color:"red",empty:!0,circular:!0},text:"Last 24 hours",value:25,onClick:e.setTickCount}),Object(n.jsx)(I.a.Item,{label:{color:"blue",empty:!0,circular:!0},text:"Last 7 days",value:175,onClick:e.setTickCount}),Object(n.jsx)(I.a.Item,{label:{color:"black",empty:!0,circular:!0},text:"Last 30 days",value:750,onClick:e.setTickCount})]})}),Object(n.jsx)(E.a,{size:"mini",children:Object(n.jsxs)(E.a.Value,{children:["Average: ",e.average(e.dataReducer())," Mbps"]})})]})},e.dataReducer=function(){if(e.state.tickCount===1/0)return"Upload"===e.state.view?e.props.upload:e.props.download;var t=e.props.download.length;return"Download"===e.state.view?e.props.download.slice(t-e.state.tickCount,t):e.props.upload.slice(t-e.state.tickCount,t)},e.average=function(e){if(null===e)return null;for(var t=0,a=0;a<e.length;a++)t+=e[a].y;return t/=e.length-1,Math.round(100*t)/100},e}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[this.OptionPanel(),Object(n.jsxs)(D.e,{width:900,height:500,xType:"time",margin:{bottom:100},children:[Object(n.jsx)(D.a,{}),Object(n.jsx)(D.c,{}),Object(n.jsx)(D.d,{hideLine:!0,tickLabelAngle:-30,style:S}),Object(n.jsx)(D.f,{hideLine:!0,title:"Speed (Mbps)",style:S}),Object(n.jsx)(D.b,{style:{strokeWidth:5},curve:"curveBasis",data:this.dataReducer()})]})]})}}]),a}(c.Component),A=(a(208),function(e){console.log(e)}),P={All:"blue",EE:"teal",Vodafone:"red",Three:"black",TalkTalk:"grey",VPN:"purple"},F=function(){return Object(n.jsx)(x.a,{children:Object(n.jsx)(v.a,{columns:4,children:Object(n.jsxs)(v.a.Row,{centered:!0,children:[Object(n.jsx)(v.a.Column,{children:Object(n.jsx)(f.a,{src:"EE.jpg",size:"tiny"})}),Object(n.jsx)(v.a.Column,{children:Object(n.jsx)(f.a,{src:"Three.png",size:"tiny"})}),Object(n.jsx)(v.a.Column,{children:Object(n.jsx)(f.a,{src:"Vodafone.png",size:"tiny"})}),Object(n.jsx)(v.a.Column,{children:Object(n.jsx)(f.a,{src:"TalkTalk.jpg",size:"tiny"})})]})})})};function N(){var e=r.a.useState(!1),t=Object(O.a)(e,2),a=t[0],c=t[1];return Object(n.jsxs)(k.a,{centered:!1,open:a,onClose:function(){return c(!1)},onOpen:function(){return c(!0)},trigger:Object(n.jsx)(m.a,{children:"About"}),children:[Object(n.jsx)(k.a.Header,{children:"What Is This?"}),Object(n.jsx)(k.a.Content,{children:Object(n.jsx)(k.a.Description,{children:"This tool tracks the speed of my internet service provider. It runs an internet speed test every hour and stores this data. I have had multiple ISPs and wanted to compare their performance and figure out who the best is."})}),Object(n.jsx)(k.a.Actions,{children:Object(n.jsx)(m.a,{onClick:function(){return c(!1)},children:"OK"})})]})}var L=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={activeTab:"All",csvData:null,upload:null,download:null,lastTime:null},e.filterData=function(t,a){for(var n=[],c=[],r=0,s=0,l=null!==a?Object(u.a)(a):e.state.csvData.data,i=0,o=l.length-1-1;o>0;o--){var d=l[o];if("none"!==d[5]||3!==++i){if(("none"!==d[5]||o%3===0)&&("EE"!==t||"EE"===d[5])&&("TalkTalk"!==t||"TalkTalk"===d[5])&&("Three"!==t||"Three"===d[5])&&("Vodafone"!==t||"Vodafone"===d[5])){if("VPN"!==t||!["EE","TalkTalk","Three","Vodafone"].includes(d[5])){d[2]=isNaN(d[2])||""===d[2]?0:d[2],d[3]=isNaN(d[3])||""===d[3]?0:d[3],r+=parseFloat(d[2]),s+=parseFloat(d[3]);var j=d[0]+" "+d[1];j=new Date(j),o%3===0&&0!==o&&(r/=3,s/=3,c.unshift({x:j,y:r}),n.unshift({x:j,y:s}),r=0,s=0)}}}else i=0}e.setState({download:c,upload:n})},e.handleTabClick=function(t,a){var n=a.name;A("clicked ".concat(n)),e.filterData(n,null),e.setState({activeTab:n})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){console.clear(),this.GetData(),A("Fetched and filtered data")}},{key:"GetData",value:function(){var e=Object(d.a)(o.a.mark((function e(){var t,a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=y.a,e.next=3,this.fetchCsv();case 3:return e.t1=e.sent,t=e.t0.parse.call(e.t0,e.t1),this.setState({csvData:t}),this.filterData("All",t.data),a=t.data.length-2,n=t.data[a],c="".concat(n[0]," ").concat(n[1]),this.setState({lastTime:c}),e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchCsv",value:function(){var e=Object(d.a)(o.a.mark((function e(){var t,a,n,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("speed_data.csv");case 2:return t=e.sent,a=t.body.getReader(),e.next=6,a.read();case 6:return n=e.sent,c=new TextDecoder("utf-8"),r=c.decode(n.value),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.activeTab;return Object(n.jsxs)("div",{className:"App",style:{flex:1},children:[Object(n.jsx)("br",{}),Object(n.jsx)(T.a,{as:"h1",size:"large",children:"Paul's ISP Speed Tracker"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(F,{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(x.a,{children:[Object(n.jsxs)(C.a,{color:P[e],inverted:!0,attached:"top",tabular:!0,children:[Object(n.jsx)(C.a.Item,{name:"All",header:!0,active:"All"===e,onClick:this.handleTabClick}),Object(n.jsx)(C.a.Item,{name:"EE",active:"EE"===e,onClick:this.handleTabClick}),Object(n.jsx)(C.a.Item,{name:"Vodafone",active:"Vodafone"===e,onClick:this.handleTabClick}),Object(n.jsx)(C.a.Item,{name:"Three",active:"Three"===e,onClick:this.handleTabClick}),Object(n.jsx)(C.a.Item,{name:"TalkTalk",active:"TalkTalk"===e,onClick:this.handleTabClick}),Object(n.jsx)(C.a.Item,{name:"VPN",active:"VPN"===e,onClick:this.handleTabClick}),Object(n.jsx)(C.a.Item,{children:Object(n.jsx)(N,{parentColor:P[e]})}),Object(n.jsxs)(C.a.Item,{position:"right",children:[" Last Updated on : ",this.state.lastTime]})]}),Object(n.jsx)(w.a,{attached:"bottom",children:Object(n.jsx)(x.a,{children:Object(n.jsx)(V,{parentColor:P[e],upload:this.state.upload,download:this.state.download})})})]})]})}}]),a}(c.Component),z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,230)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};l.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(L,{})}),document.getElementById("root")),z()}},[[209,1,2]]]);
//# sourceMappingURL=main.a7030e93.chunk.js.map